@import url("https://fonts.googleapis.com/css2?family=Heebo:wght@400;600;800&display=swap");

/* ===== Tokens תואמי אתר ===== */
:root{
  --page-w:1160px;

  --ink:#0f172a;
  --muted:#64748b;

  --primary:#1a89ff;
  --secondary:#14b8a6;
  --accent:#ffa502;

  --card:#ffffff;
  --border:#e8eef5;

  --ring:0 0 0 4px rgba(26,137,255,.16);
  --radius:16px;
  --radius-lg:22px;

  --shadow:0 12px 40px rgba(16,24,40,.12);
  --shadow-soft:0 6px 18px rgba(2,32,71,.08);
}

/* ===== מעטפת עמוד – גרדיאנט, ללא כתמים ===== */
.page{
  direction:rtl;
  font-family:"Heebo",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--ink);
  min-height:100vh;
  background: linear-gradient(145deg, #f0efee, #ffffff);
  background-attachment: fixed;

  display:flex;
  flex-direction:column;
  align-items:center;

  padding:160px 20px 32px; /* התאמה להאדר העליון של האתר */
}

/* ===== Hero עליון שקוף (ללא כתמים) ===== */
.hero{
  width:100%;
  max-width:var(--page-w);
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:0;
}
.heroCard{
  width:100%;
  max-width:760px;
  background: rgba(255,255,255,.65);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border:1px solid var(--border);
  border-radius:22px;
  padding:28px 22px 22px;
  box-shadow: var(--shadow);
}
.title{
  margin:0 0 6px;
  font-size:clamp(1.8rem,1.2rem + 1.4vw,2.3rem);
  font-weight:800;
  letter-spacing:.2px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
  -webkit-background-clip:text;
  background-clip:text;
  -webkit-text-fill-color:transparent;
}
.subtitle{
  margin:0;
  color:var(--muted);
  font-size:0.98rem;
}

/* ===== סקשנים (וגם שמות ישנים – תאימות לאחור) ===== */
.section,
.adminStatsSection{
  width:100%;
  max-width:var(--page-w);
  margin:16px auto 20px;
}
.sectionHeader,
.adminStatsSectionHeader{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:.5rem;
  margin-bottom:.75rem;
  padding-bottom:.25rem;
  border-bottom:1px solid color-mix(in srgb, var(--border) 70%, transparent);
}
.sectionTitle,
.adminStatsSectionTitle{
  margin:0;
  font-size:1.15rem;
  font-weight:800;
  color:var(--ink);
  text-align:center;
}

/* ===== מסננים עליונים (וגם שמות ישנים) ===== */
.filtersRow,
.adminStatsFiltersRow{
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
  margin:0;
}
.filterGroup,
.adminStatsFilterGroup{
  display:flex;
  align-items:center;
  gap:8px;
}
.filtersRow label,
.adminStatsFiltersRow label{
  font-weight:600;
  color:var(--ink);
  font-size:.95rem;
}
.filtersRow input[type="date"],
.filtersRow select,
.adminStatsFiltersRow input[type="date"],
.adminStatsFiltersRow select{
  height:40px;
  padding:0 12px;
  border:1px solid var(--border);
  border-radius:10px;
  background:#fff;
  color:var(--ink);
  outline:none;
  box-shadow: var(--shadow-soft);
  transition: transform .06s, box-shadow .2s, border-color .2s;
}
.filtersRow input[type="date"]:hover,
.filtersRow select:hover,
.adminStatsFiltersRow input[type="date"]:hover,
.adminStatsFiltersRow select:hover{
  transform: translateY(-1px);
  border-color:#bcd7ff;
  box-shadow:0 10px 26px rgba(2,32,71,.12);
}
.filtersRow input[type="date"]:focus,
.filtersRow select:focus,
.adminStatsFiltersRow input[type="date"]:focus,
.adminStatsFiltersRow select:focus{
  border-color:#1a89ff;
  box-shadow: var(--ring);
}

/* כפתור "כל הזמנים" */
.allTimeBtn{
  height:40px;
  padding:0 14px;
  border-radius:12px;
  border:1px solid var(--border);
  background: linear-gradient(180deg,#ffffff 0%,#f7fbff 100%);
  color:var(--ink);
  font-weight:600;
  cursor:pointer;
  box-shadow: var(--shadow-soft);
  transition: transform .06s, box-shadow .2s, border-color .2s, opacity .2s;
}
.allTimeBtn:hover{
  transform: translateY(-1px);
  border-color:#bcd7ff;
  box-shadow:0 10px 26px rgba(2,32,71,.12);
}
.allTimeBtn:disabled{
  opacity:.7;
  cursor:default;
  transform:none;
  box-shadow:none;
}

/* ===== גריד כרטיסים – יותר רחב כברירת־מחדל =====
   ברירת־המחדל: 2 עמודות (כרטיסים רחבים יותר)
   מסכים רחבים במיוחד: 3 עמודות
   מובייל: עמודה אחת */
.grid,
.adminStatsGrid{
  width:100%;
  max-width:var(--page-w);
  margin:0 auto;
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: clamp(.9rem, 1vw, 1.2rem);
}
/* 3 בעמודה רק במסכים ממש רחבים */
@media (min-width:1400px){
  .grid, .adminStatsGrid{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
/* מובייל */
@media (max-width:700px){
  .grid, .adminStatsGrid{ grid-template-columns: 1fr; }
}

/* ===== כרטיס סטטיסטיקה – “Glass” שקפקף, ללא ריבוע כפוי ===== */
/* מכסה גם את המחלקה הישנה .adminStatsCard */
.card,
.adminStatsCard{
  position: relative;

  /* זכוכית */
  background: linear-gradient(180deg, rgba(255,255,255,.62), rgba(255,255,255,.48));
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(232,238,245,.85);
  box-shadow: var(--shadow);
  border-radius: var(--radius-lg);

  /* רוחב – נשלט ע"י הגריד; גובה עקבי */
  min-height: 380px;

  /* תוכן */
  padding: 16px 16px 14px;
  display:flex;
  flex-direction:column;
  text-align:center;
  transition: transform .18s ease, box-shadow .25s ease, border-color .2s ease;
}

/* פס עליון עדין */
.card::before,
.adminStatsCard::before{
  content:"";
  position:absolute; inset-inline:0; top:0; height:4px;
  background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
  opacity:.85;
}

/* Hover */
.card:hover,
.adminStatsCard:hover{
  transform: translateY(-2px);
  border-color: color-mix(in srgb, var(--primary) 35%, rgba(232,238,245,.85));
  box-shadow: 0 14px 40px rgba(26,35,58,.16);
}

/* כותרות/סרגלים בתוך כרטיס */
.cardTitle,
.adminStatsCardTitle{
  margin:0 0 .6rem;
  font-weight:800;
  color:var(--ink);
  font-size:1.05rem;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}
.cardHeaderRow,
.adminStatsCardHeaderRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:.75rem;
  margin-bottom:.5rem;
}

/* פילטרים פנימיים בכרטיס */
.inlineFilters,
.adminStatsInlineFilters{
  display:flex;
  gap:.6rem;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
  margin-bottom:.5rem;
}
.inlineFilters label,
.adminStatsInlineFilters label{
  font-weight:600; color:var(--ink);
}
.inlineFilters select,
.adminStatsInlineFilters select{
  padding:.4rem .7rem;
  border:1px solid var(--border);
  border-radius:10px;
  background:#fff;
  color:var(--ink);
}

/* אזור הגרף בתוך כרטיס – גובה עקבי */
.chart,
.adminStatsChart{
  width:100%;
  height: 260px;
  min-height:260px;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* טקסטי עזר */
.subTitle, .adminStatsSubTitle{
  margin:.5rem 0; color:var(--muted); font-weight:600; text-align:center;
}
.conv, .adminStatsConv{
  margin-top:.6rem; font-weight:800; color:var(--ink); text-align:center;
}

/* ===== רספונסיבי – רווח עליון ===== */
@media (max-width:1024px){ .page{ padding-top:140px; } }
@media (max-width:640px){  .page{ padding-top:120px; } }

/* ===== Recharts — שיפורים קלים ===== */
:global(.recharts-rectangle),
:global(.recharts-sector){ cursor:pointer; }
:global(.recharts-cartesian-axis-tick text){
  fill:#64748b; font-weight:600; font-size:12px;
}
:global(.recharts-cartesian-grid-horizontal line),
:global(.recharts-cartesian-grid-vertical line){
  stroke: color-mix(in srgb, var(--border) 65%, transparent);
}

/* ===== A11y / מיקרו-פוליש ===== */
:focus-visible{ outline:none; box-shadow: var(--ring); border-color:#1a89ff; }
::selection{ background: color-mix(in srgb, var(--primary) 25%, transparent); }
